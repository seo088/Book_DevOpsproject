<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>책먹는 여우 - 회원가입</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <button class="hamburger-menu" id="open-menu-btn">
        <i class="fas fa-bars"></i>
    </button>
    
    <aside class="side-menu" id="side-menu">
        <button class="close-menu-btn" id="close-menu-btn">&times;</button>
        <nav class="side-nav">
            <div class="side-menu-section">
                <h3>주요 메뉴</h3>
                <ul>
                    <li>
                        <button class="menu-dropdown-btn" id="genre-filter-btn">
                            장르별 <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="genre-filter-options" id="genre-filter-options">
                            <p>[태그/장르 구분 후 필터 목록 구현 예정]</p>
                        </div>
                    </li>
                    <li><a href="#">신작</a></li>
                    <li><a href="#">베스트셀러</a></li>
                </ul>
            </div>
            
            <div class="side-menu-section">
                <h3>커뮤니티</h3>
                <ul>
                    <li><a href="#">전북 도서 관련 행사</a></li>
                </ul>
            </div>
        </nav>
    </aside>

    <header>
        <div class="container">
            <h1><a href="{{ url_for('home') }}">책먹는 여우</a></h1>
            <nav>
                <ul>
                    <li id="auth-link">
                        {% if session.get('user_id') %}
                            <a href="{{ url_for('mypage') }}">{{ session.get('nickname') }}님</a>
                            <span class="separator">|</span>
                            <a href="{{ url_for('logout') }}">로그아웃</a>
                        {% else %}
                            <a href="{{ url_for('login') }}">로그인</a>
                            <span class="separator">|</span>
                            <a href="{{ url_for('signup') }}">회원가입</a>
                        {% endif %}
                    </li>
                    <li><a href="#">베스트셀러</a></li>
                    <li><a href="#">신작</a></li>
                </ul>
            </nav>
        </div>
    </header>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="flash-messages">
          {% for msg in messages %}
            <p>{{ msg }}</p>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <main class="auth-main">
        <div class="auth-container">
            <h2>회원가입</h2>
            <form id="signup-form" method="POST" action="{{ url_for('signup') }}">

                <input type="text" name="user_id" id="signup-id" placeholder="아이디"
                       value="{{ form_data.get('user_id', '') }}" required>
                <input type="text" name="nickname" id="signup-nickname" placeholder="닉네임"
                       value="{{ form_data.get('nickname', '') }}" required>
                <input type="email" name="email" id="signup-email" placeholder="이메일"
                       value="{{ form_data.get('email', '') }}" required>

                <input type="password" name="password" id="signup-pw" placeholder="비밀번호" required>
                <input type="password" name="password_confirm" id="signup-pw-confirm" placeholder="비밀번호 확인" required>

                <button type="submit" class="auth-button">회원가입</button>
            </form>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 책먹는 여우. All rights reserved.</p>
    </footer>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
